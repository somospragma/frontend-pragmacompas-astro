---
import type { Session } from "@auth/core/types";
import { Auth, SignIn, SignOut } from "auth-astro/components";
import BaseLayout from "@/components/templates/BaseLayout.astro";
import "@/styles/global.css";
---

<BaseLayout>
  <Auth>
    {
      (session: Session | null) => (
        <main>
          <h1>Astro + AuthJS</h1>
          <p>
            <a href="/protected">Protected Route</a>
          </p>
          <SignIn provider="github">Login</SignIn>
          <SignOut>Logout</SignOut>
          <p>{session ? `Logged in as ${session.user?.name}` : "Not logged in"}</p>
        </main>
      )
    }
  </Auth>
</BaseLayout>
